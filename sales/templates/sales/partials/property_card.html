<div class="property-card shadow-sm rounded-4 border bg-white p-3 mb-4" id="property-{{ property.id }}" data-property-id="{{ property.id }}">

  <!-- MÃ­dia -->
  <div class="property-media row g-3 mb-3 align-items-stretch">

    <!-- Imagem -->
    <div class="col-md-6">
      {% if property.images.first %}
        <img src="{{ property.images.first.image.url }}"
             alt="Imagem do ImÃ³vel"
             class="img-fluid rounded shadow-sm w-100 property-thumbnail"
             style="cursor:pointer; max-height: 300px;"
             data-images='[{% for img in property.images.all %}"{{ img.image.url }}"{% if not forloop.last %},{% endif %}{% endfor %}]'>
      {% else %}
        <div class="bg-light rounded shadow-sm d-flex align-items-center justify-content-center" style="height: 220px;">
          <span class="text-muted">Sem imagem</span>
        </div>
      {% endif %}
    </div>

    <!-- VÃ­deo -->
    <div class="col-md-6">
      {% if property.video_url %}
        <div class="ratio ratio-16x9 h-100">
          <iframe src="{{ property.video_url }}"
                  allowfullscreen
                  class="rounded border w-100 h-100"></iframe>
        </div>
      {% else %}
        <div class="bg-light rounded shadow-sm d-flex align-items-center justify-content-center" style="height: 220px;">
          <span class="text-muted">Sem vÃ­deo</span>
        </div>
      {% endif %}
    </div>
  </div>

  <!-- Infos principais -->
  <div class="property-info mb-3">
    <p class="mb-1"><i class="fas fa-map-marker-alt text-primary"></i>
      <strong>{{ property.street }}, {{ property.street_number }}</strong> - {{ property.neighborhood }}, {{ property.city }} - {{ property.state }}
    </p>
    <p class="mb-1"><i class="fas fa-coins text-success"></i>
      <strong>R$ {{ property.sale_price|default:property.rent_price }}</strong>
      {% if property.sale_price %}
        <span class="badge bg-success ms-2">Venda</span>
      {% else %}
        <span class="badge bg-primary ms-2">Aluguel</span>
      {% endif %}
    </p>
  </div>

  <!-- AÃ§Ãµes -->
  <div class="d-flex justify-content-start gap-2 mb-3">
    <button class="btn btn-outline-success btn-sm like-btn" data-id="{{ property.id }}">ðŸ”¥ Curtir</button>
    <button class="btn btn-outline-danger btn-sm dislike-btn" data-id="{{ property.id }}">ðŸ’¡ Rejeitar</button>
    <button type="button" class="btn btn-outline-primary btn-sm" onclick="toggleDetails({{ property.id }})">ðŸ“˜ Detalhes</button>
  </div>

  <!-- Detalhes -->
  <div id="additional-info-{{ property.id }}" class="property-info hidden mt-3 border-top pt-3 small">
    <!-- Detalhes vÃ£o aqui -->
  </div>
</div>
